

<!DOCTYPE html>
<html class="writer-html5" lang="English" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Documentation &mdash; Tristeon 0.0.1-Alpha documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API" href="api.html" />
    <link rel="prev" title="Showcase" href="showcase.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Tristeon
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="home.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="links.html">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="showcase.html">Showcase</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#transformations">Transformations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#position">Position</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scale">Scale</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rotation">Rotation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#serialization">Serialization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#json">JSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="#type-ids">Type IDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#instance-ids">Instance IDs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#scenes">Scenes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#layers">Layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#actors-behaviours">Actors &amp; Behaviours</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#asset-management">Asset Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="#editor">Editor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Tristeon</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/documentation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h1>
<p>The majority of features are described thoroughly through the written &amp; generated API section, but some concepts are hard to define when restricted to classes, functions or members. This page attempts to fill in the gaps by describing the core design concepts of Tristeon in-depth.</p>
<p>Our goal with this page is to provide thorough transparency in how Tristeon operates and what behaviour you can expect across the board.</p>
<div class="section" id="transformations">
<h2>Transformations<a class="headerlink" href="#transformations" title="Permalink to this headline">¶</a></h2>
<p>Tristeon is a 2D game engine, meaning that objects, environment, sound, lights, and all other things are in some way located on a two-dimensional transformation grid. Tristeon, like many others, uses the cartesian coordinate system to describe an object's location, rotation, scale, movement, etc.</p>
<div class="line-block">
<div class="line"><strong>Cartesian Coordinates</strong></div>
<div class="line">The cartesian coordinate system in Tristeon describes a 2D grid, using axes labeled x and y. The x-axis is the horizontal axis, allowing objects to move left and right across the world. The y-axis on the other hand, is the vertical axis, which allows objects to move up and down in the world. The coordinate system used in Tristeon specifically defines that negative x (-x) is left and positive x (+x) is right. For the y-axis, negative y (-y) is down and positive y (+y) is up. This is illustrated below:</div>
</div>
<img alt="_images/Cartesian.svg" src="_images/Cartesian.svg" /><div class="line-block">
<div class="line"><strong>Origin</strong></div>
<div class="line">The central point, where both the axes connect, is called the <strong>origin</strong> and this point is located at (x = 0, y = 0).</div>
</div>
<div class="section" id="position">
<h3>Position<a class="headerlink" href="#position" title="Permalink to this headline">¶</a></h3>
<p>Positions are points on the cartesian coordinate system. In Tristeon, these points are represented by the <a class="reference internal" href="api.html#vector"><span class="std std-ref">Vector</span></a> class. Objects can have a position and can be moved by changing the x and/or y value of their position, meaning that for example to move an object right over time, one simply needs to increase the object's x position every frame.
Illustrated below is a point or position on Tristeon's 2D coordinate system:</p>
<img alt="_images/Point.svg" src="_images/Point.svg" /></div>
<div class="section" id="scale">
<h3>Scale<a class="headerlink" href="#scale" title="Permalink to this headline">¶</a></h3>
<p>Scaling in Tristeon follows the very same two-dimensional system to describe the size of an object along the x-axis and y-axis (and thus is represented by the <a class="reference internal" href="api.html#vector"><span class="std std-ref">Vector</span></a> class). An object's scale acts as a multiplier, meaning that if their size is originally defined by e.g. their sprite/image size, the final object's size can be calculated by multiplying the original size by its scale.</p>
<p>Scaling in the x-axis increases the object's size horizontally, scaling in the y-axis increases the object's size vertically. Note that scaling is local to the object, meaning that if an object is rotated 90 degrees, these effects will change accordingly (so in a 90 degree rotation situation, the x axis will actually visually scale the object vertically).</p>
<p>Scale affects the object from its origin point (usually the center), and only ever affects the object's size. Scale can be 0 but this makes the object non-visible. Scale can not be less than 0. An example of object scaling is illustrated below:</p>
<a class="reference internal image-reference" href="_images/Unscaled.svg"><img alt="_images/Unscaled.svg" src="_images/Unscaled.svg" width="300px" /></a>
<a class="reference internal image-reference" href="_images/Scaled.svg"><img alt="_images/Scaled.svg" src="_images/Scaled.svg" width="300px" /></a>
</div>
<div class="section" id="rotation">
<h3>Rotation<a class="headerlink" href="#rotation" title="Permalink to this headline">¶</a></h3>
<p>Rotations can turn objects clockwise or counter-clockwise. Rotations in Tristeon are described using degrees, and are applied in a clockwise direction, meaning that increasing an object's rotation will turn it in the clockwise direction (right). A rotation of 0 describes a neutral or identity rotation which means that the object isn't rotated and the right-pointing vector local to the object points right (<cite>Vector(1, 0)</cite>).</p>
<p>Rotations happen around the object's origin point (usually its center). The image below illustrates an object being rotated at rotation 0, 45, 90, 135, and 180 respectively (left to right). The red arrow indicates the direction of the right-pointing vector local to the object.</p>
<img alt="_images/Rotations.svg" src="_images/Rotations.svg" /></div>
</div>
<div class="section" id="serialization">
<h2>Serialization<a class="headerlink" href="#serialization" title="Permalink to this headline">¶</a></h2>
<p>Tristeon uses a standardized way to store object data across the engine. Our goal with object serialization in Tristeon is to create a homogeneous approach to serialization that is very human-readable and at least somewhat version-control friendly. This section won't cover how exactly all serialization is handled in code but you can read more about that in the serialization API, in classes like <a class="reference internal" href="api.html#serializable"><span class="std std-ref">Serializable</span></a>, <a class="reference internal" href="api.html#jsonserializer"><span class="std std-ref">JsonSerializer</span></a>, and <a class="reference internal" href="api.html#typeregister"><span class="std std-ref">TypeRegister</span></a>.</p>
<div class="section" id="json">
<h3>JSON<a class="headerlink" href="#json" title="Permalink to this headline">¶</a></h3>
<p>Tristeon scenes, objects, and other data types are stored using the json format (<a class="reference external" href="https://www.json.org/json-en.html">https://www.json.org/json-en.html</a>). Json is a highly readable format that is easy to modify and fares fairly well with source control. This ofcourse doesn't mean that you have to write the json files yourself, all json data in Tristeon is generated, but modifying it shouldn't pose any additional challenges.</p>
<p>For example, a json representation of an <a class="reference internal" href="api.html#actor"><span class="std std-ref">Actor</span></a> with an <a class="reference internal" href="api.html#ambientlight"><span class="std std-ref">AmbientLight</span></a> behaviour:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;behaviours&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;colour&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;a&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                <span class="nt">&quot;b&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                <span class="nt">&quot;g&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                <span class="nt">&quot;r&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                <span class="nt">&quot;typeID&quot;</span><span class="p">:</span> <span class="s2">&quot;Tristeon::Colour&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;instanceID&quot;</span><span class="p">:</span> <span class="mi">1554923456</span><span class="p">,</span>
            <span class="nt">&quot;intensity&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
            <span class="nt">&quot;renderMask&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;typeID&quot;</span><span class="p">:</span> <span class="s2">&quot;Tristeon::SerializedEnum&lt;enumTristeon::RenderMask&gt;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">127</span>
            <span class="p">},</span>
            <span class="nt">&quot;typeID&quot;</span><span class="p">:</span> <span class="s2">&quot;Tristeon::AmbientLight&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;instanceID&quot;</span><span class="p">:</span> <span class="mi">2236587147</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Ambient&quot;</span><span class="p">,</span>
    <span class="nt">&quot;position&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;typeID&quot;</span><span class="p">:</span> <span class="s2">&quot;Tristeon::VectorType&lt;float&gt;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;x&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="nt">&quot;y&quot;</span><span class="p">:</span> <span class="mf">0.0</span>
    <span class="p">},</span>
    <span class="nt">&quot;rotation&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="nt">&quot;scale&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;typeID&quot;</span><span class="p">:</span> <span class="s2">&quot;Tristeon::VectorType&lt;float&gt;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;x&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="nt">&quot;y&quot;</span><span class="p">:</span> <span class="mf">1.0</span>
    <span class="p">},</span>
    <span class="nt">&quot;typeID&quot;</span><span class="p">:</span> <span class="s2">&quot;Tristeon::Actor&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the example above, the properties are represented using a <cite>&quot;name&quot;: value</cite> pattern, each separated by a comma. This can for example be seen in the &quot;name&quot; and &quot;rotation&quot; properties.</p>
<p>A value can also be a nested object itself: <cite>&quot;name&quot;: { &quot;x&quot;: 0 }</cite>. There are many examples of this within the example above but we'd recommend to take a look at the &quot;position&quot; and &quot;scale&quot; fields because they contain very little extra data, making it easier to get a grasp of the syntax.</p>
<p>Arrays or lists are represented in a similar pattern except they are written like <cite>&quot;name&quot;: [ value, value ]</cite> where the space between the brackets can be filled with value entries separated by commas. This can be seen in the &quot;behaviours&quot; field, which is an array of <a class="reference internal" href="api.html#behaviour"><span class="std std-ref">Behaviour</span></a>. Each element in the array is a separate json object that contains fields and additionally nested objects.</p>
<p>Where some fields are very straight-forward (the <a class="reference internal" href="api.html#actor"><span class="std std-ref">Actor</span></a> 's name for example), others may seem a little less clear (typeID, instanceID), so we'll try to clarify some of the special fields down below.</p>
</div>
<div class="section" id="type-ids">
<h3>Type IDs<a class="headerlink" href="#type-ids" title="Permalink to this headline">¶</a></h3>
<p>In Tristeon, a lot of types like <a class="reference internal" href="api.html#actor"><span class="std std-ref">Actor</span></a> and <a class="reference internal" href="api.html#behaviour"><span class="std std-ref">Behaviour</span></a> can be derived from, but they are commonly stored as their base types. So, to be able to create the appropriate derived types in serialization time, Tristeon stores a type-name along each object.</p>
<div class="line-block">
<div class="line">This is represented by the &quot;typeID&quot; field that we store into each json object. For example a <a class="reference internal" href="api.html#sprite"><span class="std std-ref">Sprite</span></a> actor will serialize its typeID as <cite>&quot;typeID&quot;: &quot;Tristeon::Sprite&quot;</cite>. The typeID is always the full type's name, including its namespace, with all typedefs deducted and with all templated types shown in place.</div>
<div class="line">Some examples are:</div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Resulting typeID</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Actor</p></td>
<td><p>Tristeon::Actor</p></td>
</tr>
<tr class="row-odd"><td><p>List&lt;Colour&gt;</p></td>
<td><p>Tristeon::List&lt;Tristeon::Colour&gt;</p></td>
</tr>
<tr class="row-even"><td><p>Vector</p></td>
<td><p>Tristeon::VectorType&lt;float&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>int32_t</p></td>
<td><p>int</p></td>
</tr>
</tbody>
</table>
<p>This typeID is used by the <a class="reference internal" href="api.html#typeregister"><span class="std std-ref">TypeRegister</span></a> to create derived types in runtime. The <a class="reference internal" href="api.html#typeregister"><span class="std std-ref">TypeRegister</span></a> maps templated factory functions to typeID strings to create the derived types. Read more about how this is handled in detail in the <a class="reference internal" href="api.html#typeregister"><span class="std std-ref">TypeRegister</span></a> API.</p>
</div>
<div class="section" id="instance-ids">
<h3>Instance IDs<a class="headerlink" href="#instance-ids" title="Permalink to this headline">¶</a></h3>
<p>Instance IDs are unique identifiers that allow us to do very quick lookups for references to other objects in the <a class="reference internal" href="api.html#scene"><span class="std std-ref">Scene</span></a>. In order for an object to have an instance ID, its type needs to inherit from InstancedSerializable at some point in the inheritance tree. Most inheritable classes in Tristeon like <a class="reference internal" href="api.html#actor"><span class="std std-ref">Actor</span></a> and <a class="reference internal" href="api.html#behaviour"><span class="std std-ref">Behaviour</span></a> already do, so they'll have this built-in.</p>
<p>An instance's ID is randomly generated upon creation of the object (or loaded from json), and is stored in its json representation. Once set, the instance ID is expected to never change (although there are exceptions in the case of an ID collision). This means that you can safely serialize an object's instance ID as a way to reference it when the <a class="reference internal" href="api.html#scene"><span class="std std-ref">Scene</span></a> is saved.</p>
<p>The details of the implementation can be found at <a class="reference internal" href="api.html#instancedserializable"><span class="std std-ref">InstancedSerializable</span></a>. To be able to do runtime lookups of an object with an instance ID, reference <a class="reference internal" href="api.html#instancecollector"><span class="std std-ref">InstanceCollector</span></a>.</p>
</div>
</div>
<div class="section" id="scenes">
<h2>Scenes<a class="headerlink" href="#scenes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="layers">
<h3>Layers<a class="headerlink" href="#layers" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="actors-behaviours">
<h3>Actors &amp; Behaviours<a class="headerlink" href="#actors-behaviours" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="asset-management">
<h2>Asset Management<a class="headerlink" href="#asset-management" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="editor">
<h2>Editor<a class="headerlink" href="#editor" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019-2021, Leon Brands, Tristan Metz.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>